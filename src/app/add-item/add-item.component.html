<div class="page_container">
  <app-side-bar class="sidebar"></app-side-bar>



  <div class="container">

    <h3>{{mode}} Inventory Item</h3>
    <div class="card-div">
      <mat-card appearance="outlined" >


        <mat-card-content>

            <form [formGroup]="inventoryForm" (ngSubmit)="save()">

              <div class="row">
                <div class="column" >
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Item Type</mat-label>
                    <mat-select formControlName="itemType" required>
                      <mat-option *ngFor="let type of itemTypes" [value]="type">{{ type }}</mat-option>
                    </mat-select>
                    @if(inventoryForm.get('itemType')?.getError('required')){
                      <mat-error>Item Name is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Item Name</mat-label>
                    <input matInput formControlName="itemName" placeholder="Enter item name" maxlength="50" required>
                    @if(inventoryForm.get('itemName')?.getError('required')){
                      <mat-error>Item Type is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Brand</mat-label>
                    <mat-select formControlName="itemBrand" required>
                      <mat-option *ngFor="let brand of brands" [value]="brand">{{ brand }}</mat-option>
                    </mat-select>
                    @if(inventoryForm.get('itemBrand')?.getError('required')){
                      <mat-error>Item Brand is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Expiry Date</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="itemExpireDate" required [disabled]="inventoryForm.get('notApplicable')?.value">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    @if(inventoryForm.get('itemExpireDate')?.getError('required')){
                      <mat-error>Item Expire Date is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                  <mat-checkbox formControlName="notApplicable">Not Applicable</mat-checkbox>
                </div>
                <div class="column">
                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Item Description</mat-label>
                    <textarea matInput style="height: 216px;" formControlName="itemDescription" required placeholder="Enter item description" maxlength="200"></textarea>
                    @if(inventoryForm.get('itemDescription')?.getError('required')){
                      <mat-error>Item Description is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="form-field">
                    <mat-label>Item Price</mat-label>
                    <input matInput type="number" formControlName="itemPrice" placeholder="Enter item price" required>
                    @if(inventoryForm.get('itemPrice')?.getError('required')){
                      <mat-error>Item Price is <strong>required</strong></mat-error>
                    }
                  </mat-form-field>

                </div>
              </div>

              <div class="buttons">
                <button mat-raised-button color="primary" type="submit">Save</button>
                <button mat-raised-button color="accent" type="button" (click)="clear()">Clear</button>
                <button mat-raised-button color="warn" type="button" (click)="cancel()">Cancel</button>
              </div>
            </form>


        </mat-card-content>
      </mat-card>
    </div>

  </div>
</div>
